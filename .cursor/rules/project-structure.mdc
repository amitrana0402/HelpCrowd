---
description: Project structure and architecture documentation for HeyFriendz Flutter app
globs: ["**/*.dart", "**/*.md"]
alwaysApply: true
---

## ğŸ—ï¸ Project Structure

```
lib/
â”œâ”€â”€ main.dart                          # Application entry point
â”œâ”€â”€ firebase_options.dart              # Firebase configuration
â””â”€â”€ app/
    â”œâ”€â”€ core/                          # Core layer
    â”‚   â”œâ”€â”€ constants/                 # App constants
    â”‚   â”‚   â”œâ”€â”€ app_constants.dart     # General app constants
    â”‚   â”‚   â”œâ”€â”€ api_constants.dart     # API endpoints
    â”‚   â”‚   â””â”€â”€ storage_keys.dart      # Local storage keys
    â”‚   â”œâ”€â”€ theme/                     # Theme configuration
    â”‚   â”‚   â”œâ”€â”€ app_colors.dart        # Color palette
    â”‚   â”‚   â”œâ”€â”€ app_text_styles.dart   # Typography
    â”‚   â”‚   â”œâ”€â”€ app_theme.dart         # Theme data
    â”‚   â”‚   â””â”€â”€ app_dimensions.dart    # Spacing & dimensions
    â”‚   â””â”€â”€ utils/                     # Utility classes
    â”‚       â”œâ”€â”€ validators.dart        # Input validators
    â”‚       â”œâ”€â”€ date_utils.dart        # Date formatting
    â”‚       â””â”€â”€ string_extensions.dart # String helpers
    â”œâ”€â”€ data/                          # Data layer
    â”‚   â””â”€â”€ models/                    # Data models
    â”‚       â”œâ”€â”€ user_model.dart
    â”‚       â”œâ”€â”€ child_profile_model.dart
    â”‚       â”œâ”€â”€ story_model.dart
    â”‚       â”œâ”€â”€ parent_model.dart
    â”‚       â””â”€â”€ language_model.dart
    â”œâ”€â”€ modules/                       # Feature modules (MVC)
    â”‚   â”œâ”€â”€ splash/                    # Splash screen module
    â”‚   â”‚   â”œâ”€â”€ controllers/           # Business logic + Data fetching
    â”‚   â”‚   â”‚   â””â”€â”€ splash_controller.dart
    â”‚   â”‚   â””â”€â”€ views/                 # UI components
    â”‚   â”‚       â””â”€â”€ splash_view.dart
    â”‚   â”œâ”€â”€ language/                  # Language selection module
    â”‚   â”‚   â”œâ”€â”€ controllers/           # Business logic + Data fetching
    â”‚   â”‚   â”‚   â””â”€â”€ language_controller.dart
    â”‚   â”‚   â””â”€â”€ views/                 # UI components
    â”‚   â”‚       â””â”€â”€ language_view.dart
    â”‚   â”œâ”€â”€ welcome/                   # Welcome screen module
    â”‚   â”‚   â”œâ”€â”€ controllers/           # Business logic + Data fetching
    â”‚   â”‚   â”‚   â””â”€â”€ welcome_controller.dart
    â”‚   â”‚   â””â”€â”€ views/                 # UI components
    â”‚   â”‚       â””â”€â”€ welcome_view.dart
    â”‚   â”œâ”€â”€ onboarding/                # Parent onboarding module
    â”‚   â”‚   â”œâ”€â”€ controllers/           # Business logic + Data fetching
    â”‚   â”‚   â”‚   â”œâ”€â”€ onboarding_controller.dart
    â”‚   â”‚   â”‚   â”œâ”€â”€ account_setup_controller.dart
    â”‚   â”‚   â”‚   â””â”€â”€ child_profile_setup_controller.dart
    â”‚   â”‚   â””â”€â”€ views/                 # UI components
    â”‚   â”‚       â”œâ”€â”€ onboarding_view.dart
    â”‚   â”‚       â”œâ”€â”€ account_setup_view.dart
    â”‚   â”‚       â”œâ”€â”€ child_profile_setup_view.dart
    â”‚   â”‚       â””â”€â”€ consent_privacy_view.dart
    â”‚   â”œâ”€â”€ auth/                      # Authentication module
    â”‚   â”‚   â”œâ”€â”€ controllers/           # Business logic + Data fetching
    â”‚   â”‚   â”‚   â”œâ”€â”€ login_controller.dart
    â”‚   â”‚   â”‚   â””â”€â”€ signup_controller.dart
    â”‚   â”‚   â””â”€â”€ views/                 # UI components
    â”‚   â”‚       â”œâ”€â”€ login_view.dart
    â”‚   â”‚       â””â”€â”€ signup_view.dart
    â”‚   â”œâ”€â”€ profile_selection/         # Profile selection module
    â”‚   â”‚   â”œâ”€â”€ controllers/           # Business logic + Data fetching
    â”‚   â”‚   â”‚   â””â”€â”€ profile_selection_controller.dart
    â”‚   â”‚   â””â”€â”€ views/                 # UI components
    â”‚   â”‚       â””â”€â”€ profile_selection_view.dart
    â”‚   â”œâ”€â”€ kid_home/                  # Kid home screen module
    â”‚   â”‚   â”œâ”€â”€ controllers/           # Business logic + Data fetching
    â”‚   â”‚   â”‚   â””â”€â”€ kid_home_controller.dart
    â”‚   â”‚   â””â”€â”€ views/                 # UI components
    â”‚   â”‚       â””â”€â”€ kid_home_view.dart
    â”‚   â”œâ”€â”€ story/                     # Story module
    â”‚   â”‚   â”œâ”€â”€ controllers/           # Business logic + Data fetching
    â”‚   â”‚   â”‚   â”œâ”€â”€ story_list_controller.dart
    â”‚   â”‚   â”‚   â”œâ”€â”€ story_generation_controller.dart
    â”‚   â”‚   â”‚   â””â”€â”€ story_player_controller.dart
    â”‚   â”‚   â””â”€â”€ views/                 # UI components
    â”‚   â”‚       â”œâ”€â”€ story_list_view.dart
    â”‚   â”‚       â”œâ”€â”€ story_generation_view.dart
    â”‚   â”‚       â””â”€â”€ story_player_view.dart
    â”‚   â”œâ”€â”€ voice/                     # Voice storyteller module
    â”‚   â”‚   â”œâ”€â”€ controllers/           # Business logic + Data fetching
    â”‚   â”‚   â”‚   â””â”€â”€ voice_controller.dart
    â”‚   â”‚   â””â”€â”€ views/                 # UI components
    â”‚   â”‚       â””â”€â”€ voice_player_view.dart
    â”‚   â”œâ”€â”€ parental_controls/         # Parental controls module
    â”‚   â”‚   â”œâ”€â”€ controllers/           # Business logic + Data fetching
    â”‚   â”‚   â”‚   â”œâ”€â”€ parental_dashboard_controller.dart
    â”‚   â”‚   â”‚   â”œâ”€â”€ content_filter_controller.dart
    â”‚   â”‚   â”‚   â””â”€â”€ time_limits_controller.dart
    â”‚   â”‚   â””â”€â”€ views/                 # UI components
    â”‚   â”‚       â”œâ”€â”€ parental_dashboard_view.dart
    â”‚   â”‚       â”œâ”€â”€ content_filter_view.dart
    â”‚   â”‚       â””â”€â”€ time_limits_view.dart
    â”‚   â””â”€â”€ profile/                   # Profile management module
    â”‚       â”œâ”€â”€ controllers/           # Business logic + Data fetching
    â”‚       â”‚   â”œâ”€â”€ profile_controller.dart
    â”‚       â”‚   â””â”€â”€ profile_edit_controller.dart
    â”‚       â””â”€â”€ views/                 # UI components
    â”‚           â”œâ”€â”€ profile_view.dart
    â”‚           â””â”€â”€ profile_edit_view.dart
    â”œâ”€â”€ routes/                        # Navigation routes
    â”‚   â”œâ”€â”€ app_pages.dart             # Route definitions
    â”‚   â””â”€â”€ app_routes.dart            # Route constants
    â”œâ”€â”€ services/                      # Services
    â”‚   â”œâ”€â”€ api_service.dart           # HTTP API service (singleton)
    â”‚   â”œâ”€â”€ auth_service.dart          # Authentication service
    â”‚   â”œâ”€â”€ storage_service.dart       # Local storage (GetStorage)
    â”‚   â”œâ”€â”€ ai_service.dart            # AI story generation service
    â”‚   â”œâ”€â”€ voice_service.dart         # Voice/TTS service
    â”‚   â”œâ”€â”€ notification_service.dart  # Push & local notifications
    â”‚   â””â”€â”€ localization_service.dart  # Multi-language support
    â”œâ”€â”€ widgets/                       # Shared UI components
    â”‚   â”œâ”€â”€ buttons/                   # Button widgets
    â”‚   â”‚   â”œâ”€â”€ primary_button.dart
    â”‚   â”‚   â””â”€â”€ secondary_button.dart
    â”‚   â”œâ”€â”€ cards/                     # Card widgets
    â”‚   â”‚   â”œâ”€â”€ story_card.dart
    â”‚   â”‚   â””â”€â”€ profile_card.dart
    â”‚   â”œâ”€â”€ inputs/                    # Input widgets
    â”‚   â”‚   â”œâ”€â”€ custom_text_field.dart
    â”‚   â”‚   â””â”€â”€ custom_dropdown.dart
    â”‚   â”œâ”€â”€ dialogs/                   # Dialog widgets
    â”‚   â”‚   â”œâ”€â”€ confirmation_dialog.dart
    â”‚   â”‚   â””â”€â”€ error_dialog.dart
    â”‚   â”œâ”€â”€ loading/                   # Loading widgets
    â”‚   â”‚   â””â”€â”€ loading_indicator.dart
    â”‚   â””â”€â”€ common/                    # Common widgets
    â”‚       â”œâ”€â”€ custom_app_bar.dart
    â”‚       â””â”€â”€ mascot_avatar.dart
    â””â”€â”€ translations/                  # Localization files
        â”œâ”€â”€ en_US.dart                 # English
        â”œâ”€â”€ es_ES.dart                 # Spanish
        â”œâ”€â”€ fr_FR.dart                 # French
        â””â”€â”€ de_DE.dart                 # German
```

## ğŸ› ï¸ Architecture - MVC Pattern

This project follows the **MVC (Model-View-Controller)** pattern with **GetX** for state management:

### MVC Architecture Implementation

```
Model Layer:
â”œâ”€â”€ Models (lib/app/data/models/)
â”‚   â”œâ”€â”€ Data structures (User, Story, Profile, etc.)
â”‚   â”œâ”€â”€ JSON serialization/deserialization
â”‚   â””â”€â”€ Business entities

Controller Layer:
â”œâ”€â”€ Controllers (lib/app/modules/*/controllers/)
â”‚   â”œâ”€â”€ Business logic
â”‚   â”œâ”€â”€ State management (GetX)
â”‚   â”œâ”€â”€ API calls (via Services)
â”‚   â”œâ”€â”€ Data transformation
â”‚   â””â”€â”€ Navigation logic

View Layer:
â”œâ”€â”€ Views (lib/app/modules/*/views/)
â”‚   â”œâ”€â”€ UI components
â”‚   â”œâ”€â”€ Widgets
â”‚   â””â”€â”€ Screen layouts

Services Layer (Shared):
â”œâ”€â”€ ApiService (HTTP client)
â”œâ”€â”€ AuthService (Authentication)
â”œâ”€â”€ StorageService (Local data)
â”œâ”€â”€ AIService (Story generation)
â”œâ”€â”€ VoiceService (TTS/Voice)
â”œâ”€â”€ NotificationService (Notifications)
â””â”€â”€ LocalizationService (i18n)
```

### Controller Responsibilities

Controllers handle both business logic AND data operations:

```dart
// Example: StoryGenerationController
class StoryGenerationController extends GetxController {
  // Services (injected or singleton)
  final AIService _aiService = Get.find<AIService>();
  final StorageService _storageService = Get.find<StorageService>();
  final ApiService _apiService = Get.find<ApiService>();
  
  // State
  var currentStory = Rxn<StoryModel>();
  var isGenerating = false.obs;
  var generationProgress = 0.0.obs;
  
  // Generate AI story
  Future<void> generateStory({
    required String theme,
    required String childName,
    required int ageGroup,
  }) async {
    isGenerating.value = true;
    generationProgress.value = 0.0;
    
    try {
      // Call AI service
      final storyData = await _aiService.generateStory(
        theme: theme,
        childName: childName,
        ageGroup: ageGroup,
        onProgress: (progress) {
          generationProgress.value = progress;
        },
      );
      
      // Transform to model
      currentStory.value = StoryModel.fromJson(storyData);
      
      // Save to local storage
      await _storageService.saveStory(currentStory.value!);
      
      // Sync with backend
      await _apiService.post('/stories', currentStory.value!.toJson());
      
      // Navigate to story player
      Get.toNamed(Routes.STORY_PLAYER, arguments: currentStory.value);
      
    } catch (e) {
      // Handle error
      Get.snackbar('Error', 'Failed to generate story: $e');
    } finally {
      isGenerating.value = false;
    }
  }
  
  // Get story history
  Future<List<StoryModel>> getStoryHistory() async {
    try {
      final stories = await _storageService.getStories();
      return stories;
    } catch (e) {
      return [];
    }
  }
}
```

### Key Components

- **Models**: Data structures and entities (ğŸ“‹ To be implemented)
- **Controllers**: Business logic + Data operations (ğŸ“‹ To be implemented)
- **Views**: UI components and screens (ğŸ“‹ To be implemented)
- **Services**: Shared utilities (API, AI, Voice, Auth) (ğŸ“‹ To be implemented)
- **Routes**: Navigation management (ğŸ“‹ To be implemented)
- **Core**: Theme, Constants, Utils (ğŸ“‹ To be implemented)
- **Widgets**: Reusable UI components (ğŸ“‹ To be implemented)

**Note**: No separate Repository layer. Controllers directly use Services for data operations.

## ğŸ¯ HeyFriendz - AI Storytelling Platform

### Project Overview

**HeyFriendz** is an AI-powered storytelling mobile application designed for children and their parents/guardians. The app provides interactive bedtime stories powered by AI, voice storytelling capabilities, and comprehensive parental controls to create a safe, engaging, and educational entertainment experience for families.

### Target Audience

#### Primary Users

1. **Parents/Guardians**
   - Create and manage child profiles
   - Set parental controls and content filters
   - Monitor story content and app usage
   - Configure app settings and preferences
   - Language selection and management

2. **Children**
   - Enjoy AI-generated personalized bedtime stories
   - Interact with voice storyteller feature
   - Navigate age-appropriate content
   - Experience stories in their preferred language

### Core Modules

1. **Language Selection**
   - Multi-language support with native script display
   - Device language auto-detection as default
   - Language selection during onboarding
   - Profile-specific language settings

2. **Welcome Screen**
   - Mascot circular avatar
   - App introduction and value proposition
   - Feature highlights:
     - âœ¨ AI Bedtime Stories
     - ğŸ¤ Voice Storyteller
     - ğŸ”’ Parental Controls
   - "Get Started" CTA
   - Rating and certification badge display

3. **Parent Onboarding**
   - Multi-step onboarding flow
   - Account creation and verification
   - Child profile setup
   - Consent and privacy acceptance
   - Initial preferences configuration

4. **Profile Management**
   - Multiple child profiles per parent account
   - Profile selection screen (when multiple profiles exist)
   - Automatic skip to child home (when single profile)
   - Profile-specific settings and preferences

5. **AI Bedtime Stories**
   - Personalized story generation
   - Age-appropriate content filtering
   - Interactive storytelling elements
   - Story history and favorites

6. **Voice Storyteller**
   - Voice-activated narration
   - Multi-language voice support
   - Character voice variations
   - Interactive voice responses

7. **Parental Controls**
   - Content filtering and restrictions
   - Time limits and usage monitoring
   - Activity tracking and reports
   - Profile access controls

### Key Features

- **Multi-language Support** with native script display
- **AI-Powered Story Generation** personalized for each child
- **Voice Narration** with character voices
- **Comprehensive Parental Controls** for safety
- **Profile Management** for multiple children
- **Offline Story Access** for downloaded stories
- **Story History & Favorites** tracking
- **Age-Appropriate Content Filtering**

## ğŸ“Š MVC Data Flow

```
User Interaction (View)
    â†“
Controller (Business Logic)
    â†“
Service (API/Storage/AI/Voice)
    â†“
Model (Data Structure)
    â†“
Controller (State Update)
    â†“
View (UI Update)
```

### Example Flow: Generating AI Story

1. **View** â†’ User selects story theme and taps "Generate"
2. **Controller** â†’ `storyGenerationController.generateStory()` called
3. **Service** â†’ `aiService.generateStory()` makes AI API request
4. **Model** â†’ Response converted to `StoryModel`
5. **Controller** â†’ Updates observable state `currentStory.value`
6. **Controller** â†’ Saves to local storage via `storageService`
7. **Controller** â†’ Navigates to Story Player screen
8. **View** â†’ Story Player displays generated story

### Example Flow: Profile Selection

1. **View** â†’ App launches, user authenticated
2. **Controller** â†’ `profileSelectionController.loadProfiles()` called
3. **Service** â†’ `storageService.getChildProfiles()` fetches profiles
4. **Model** â†’ Data converted to `List<ChildProfileModel>`
5. **Controller** â†’ Checks profile count
   - If 1 profile â†’ Auto-navigate to Kid Home
   - If >1 profiles â†’ Show Profile Selection screen
6. **View** â†’ Displays appropriate screen

## ğŸš€ Getting Started

### Prerequisites

- Flutter SDK (^3.9.2)
- Dart SDK (^3.0.0)
- Android Studio / VS Code
- Firebase account (for Auth & Notifications)
- AI API access (for story generation)

### Installation

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd heyfriendz
   ```

2. **Install dependencies**
   ```bash
   flutter pub get
   ```

3. **Configure Firebase**
   - Add your `google-services.json` to `android/app/`
   - Add your `GoogleService-Info.plist` to `ios/Runner/`
   - Update `lib/firebase_options.dart` with your Firebase configuration

4. **Configure API Keys**
   - Create `.env` file in project root
   - Add your AI API key and other credentials
   ```
   AI_API_KEY=your_ai_api_key
   API_BASE_URL=your_api_url
   ```

5. **Run the application**
   ```bash
   flutter run
   ```

## ğŸ“¦ Dependencies

### Core Dependencies

- **get**: ^4.7.2 - State management and dependency injection
- **get_storage**: ^2.1.1 - Local storage
- **http**: ^1.0.0 - HTTP client for API calls
- **firebase_core**: ^2.24.0 - Firebase initialization
- **firebase_auth**: ^4.16.0 - Firebase authentication
- **firebase_messaging**: ^14.7.0 - Push notifications
- **flutter_local_notifications**: ^17.0.0 - Local notifications
- **google_fonts**: ^6.1.0 - Custom fonts
- **intl**: ^0.19.0 - Internationalization
- **flutter_tts**: ^4.0.0 - Text-to-speech for voice narration
- **cached_network_image**: ^3.3.0 - Image caching
- **lottie**: ^3.0.0 - Animations
- **flutter_svg**: ^2.0.0 - SVG support

### Development Dependencies

- **flutter_launcher_icons**: ^0.13.1 - App icon generation
- **flutter_native_splash**: ^2.3.0 - Splash screen
- **build_runner**: ^2.4.0 - Code generation

## ğŸ”§ Configuration

### Environment Setup

- API base URL is configured in `lib/app/core/constants/api_constants.dart`
- Storage keys in `lib/app/core/constants/storage_keys.dart`
- App constants in `lib/app/core/constants/app_constants.dart`

### Design System Configuration

**Colors** (`lib/app/core/theme/app_colors.dart`):
- Primary: Define your primary brand color
- Secondary: Define your secondary brand color
- Accent: Define accent colors
- Background: Light/Dark mode backgrounds
- Text: Text color hierarchy
- Success/Error/Warning: Semantic colors

**Typography** (`lib/app/core/theme/app_text_styles.dart`):
- Font Family: Define primary font (e.g., Google Fonts)
- Heading styles: h1, h2, h3, h4, h5, h6
- Body styles: bodyLarge, bodyMedium, bodySmall
- Button text: buttonText
- Caption styles: caption

**Dimensions** (`lib/app/core/theme/app_dimensions.dart`):
- Spacing: paddingXS, paddingS, paddingM, paddingL, paddingXL
- Border radius: radiusS, radiusM, radiusL
- Icon sizes: iconS, iconM, iconL

### Theme Configuration

- Customize colors in `lib/app/core/theme/app_colors.dart`
- Modify text styles in `lib/app/core/theme/app_text_styles.dart`
- Update theme in `lib/app/core/theme/app_theme.dart`

## ğŸ› ï¸ Service Layer Setup

### ApiService (Singleton)

```dart
import 'package:http/http.dart' as http;
import 'dart:convert';

class ApiService extends GetxService {
  final http.Client _client;
  final String baseUrl;
  
  ApiService({
    http.Client? client,
    String? baseUrl,
  }) : _client = client ?? http.Client(),
       baseUrl = baseUrl ?? ApiConstants.baseUrl;
  
  Future<ApiService> init() async {
    // Initialization logic
    // Note: http package doesn't support interceptors natively
    // For auth headers, add them in each request method
    return this;
  }
  
  // Helper method to add auth headers
  Map<String, String> _getHeaders({Map<String, String>? additionalHeaders}) {
    final headers = <String, String>{
      'Content-Type': 'application/json',
    };
    
    // Add auth token if available
    final authToken = Get.find<AuthService>().getToken();
    if (authToken != null) {
      headers['Authorization'] = 'Bearer $authToken';
    }
    
    if (additionalHeaders != null) {
      headers.addAll(additionalHeaders);
    }
    
    return headers;
  }
  
  Future<http.Response> get(String endpoint, {Map<String, dynamic>? params}) async {
    final uri = Uri.parse('$baseUrl$endpoint').replace(queryParameters: 
      params?.map((key, value) => MapEntry(key, value.toString()))
    );
    
    return await _client.get(
      uri,
      headers: _getHeaders(),
    );
  }
  
  Future<http.Response> post(String endpoint, dynamic data) async {
    final uri = Uri.parse('$baseUrl$endpoint');
    
    return await _client.post(
      uri,
      headers: _getHeaders(),
      body: jsonEncode(data),
    );
  }
  
  Future<http.Response> put(String endpoint, dynamic data) async {
    final uri = Uri.parse('$baseUrl$endpoint');
    
    return await _client.put(
      uri,
      headers: _getHeaders(),
      body: jsonEncode(data),
    );
  }
  
  Future<http.Response> delete(String endpoint) async {
    final uri = Uri.parse('$baseUrl$endpoint');
    
    return await _client.delete(
      uri,
      headers: _getHeaders(),
    );
  }
}
```

### AIService (Singleton)

```dart
class AIService extends GetxService {
  final ApiService _apiService = Get.find<ApiService>();
  
  Future<Map<String, dynamic>> generateStory({
    required String theme,
    required String childName,
    required int ageGroup,
    Function(double)? onProgress,
  }) async {
    try {
      final response = await _apiService.post(
        '/ai/generate-story',
        {
          'theme': theme,
          'child_name': childName,
          'age_group': ageGroup,
        },
      );
      
      return response.data;
    } catch (e) {
      rethrow;
    }
  }
}
```

### StorageService (Singleton)

```dart
class StorageService extends GetxService {
  late GetStorage _storage;
  
  Future<StorageService> init() async {
    await GetStorage.init();
    _storage = GetStorage();
    return this;
  }
  
  // Save story
  Future<void> saveStory(StoryModel story) async {
    List<dynamic> stories = _storage.read(StorageKeys.stories) ?? [];
    stories.add(story.toJson());
    await _storage.write(StorageKeys.stories, stories);
  }
  
  // Get stories
  Future<List<StoryModel>> getStories() async {
    List<dynamic> stories = _storage.read(StorageKeys.stories) ?? [];
    return stories.map((json) => StoryModel.fromJson(json)).toList();
  }
  
  // Save child profile
  Future<void> saveChildProfile(ChildProfileModel profile) async {
    List<dynamic> profiles = _storage.read(StorageKeys.childProfiles) ?? [];
    profiles.add(profile.toJson());
    await _storage.write(StorageKeys.childProfiles, profiles);
  }
  
  // Get child profiles
  Future<List<ChildProfileModel>> getChildProfiles() async {
    List<dynamic> profiles = _storage.read(StorageKeys.childProfiles) ?? [];
    return profiles.map((json) => ChildProfileModel.fromJson(json)).toList();
  }
}
```

### VoiceService (Singleton)

```dart
class VoiceService extends GetxService {
  final FlutterTts _flutterTts = FlutterTts();
  
  Future<VoiceService> init() async {
    await _flutterTts.setLanguage("en-US");
    await _flutterTts.setSpeechRate(0.5);
    await _flutterTts.setVolume(1.0);
    await _flutterTts.setPitch(1.0);
    return this;
  }
  
  Future<void> speak(String text) async {
    await _flutterTts.speak(text);
  }
  
  Future<void> stop() async {
    await _flutterTts.stop();
  }
  
  Future<void> setLanguage(String language) async {
    await _flutterTts.setLanguage(language);
  }
  
  Future<void> setSpeechRate(double rate) async {
    await _flutterTts.setSpeechRate(rate);
  }
}
```

## ğŸŒ Localization Setup

### LocalizationService

```dart
class LocalizationService extends Translations {
  static final locale = Locale('en', 'US');
  static final fallbackLocale = Locale('en', 'US');
  
  static final languages = [
    {'name': 'English', 'locale': Locale('en', 'US')},
    {'name': 'Spanish', 'locale': Locale('es', 'ES')},
    {'name': 'French', 'locale': Locale('fr', 'FR')},
    {'name': 'German', 'locale': Locale('de', 'DE')},
  ];
  
  @override
  Map<String, Map<String, String>> get keys => {
    'en_US': enUS,
    'es_ES': esES,
    'fr_FR': frFR,
    'de_DE': deDE,
  };
}
```

## ğŸ“± Building for Production

### Android
```bash
flutter build apk --release
flutter build appbundle --release
```

### iOS
```bash
flutter build ios --release
```

### Web
```bash
flutter build web --release
```

## ğŸ§ª Testing

```bash
# Run unit tests
flutter test

# Run integration tests
flutter test integration_test/

# Run tests with coverage
flutter test --coverage
```

## ğŸš¦ Development Workflow

1. **Feature Branch**: Create feature branch from `develop`
2. **Implementation**: Implement feature following MVC pattern
3. **Testing**: Write unit and widget tests
4. **Code Review**: Submit PR for review
5. **Merge**: Merge to `develop` after approval
6. **Release**: Periodic releases to `main` branch

## ğŸ“„ License

This project is proprietary and confidential.

## ğŸ“ Support

For support, contact the development team or create an issue in the repository.

## ğŸ”„ Version History

- **v1.0.0** - Initial release (Planned)
  - MVC architecture implementation
  - Core features: Language selection, Welcome, Onboarding
  - AI story generation
  - Voice storytelling
  - Parental controls
  - Multi-profile support
  - Firebase integration
  - GetX state management

## ğŸ“ Notes

- **Current Status**: Early development stage (template project)
- **Architecture**: MVC pattern with GetX
- **No Repository Layer**: Controllers directly use Services
- **Offline-First**: Stories can be saved and accessed offline
- **Multi-language**: Full i18n support
- **Child Safety**: Comprehensive parental controls and content filtering
